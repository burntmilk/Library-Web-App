{% extends 'layout.html' %} {% block content %}
<div class="browse_container">
  <h1>Browse Books</h1>
  <div>
    <form class="book_search_form">
      <input class="book_search_bar" type="search" placeholder="Search" />
      <select name="filter" class="filter_select">
        <option value="title">Title</option>
        <option value="author">Author</option>
        <option value="release_year">Year</option>
        <option value="publisher">Publisher</option>
      </select>
      <button class="book_search_btn" type="submit">Search</button>
    </form>
  </div>
  <div class="content-container">
    {% for book in books %}
    <div class="book_card">
      <a href="{{ url_for('browse_bp.show_book', book_id=book.book_id) }}"
        ><h3>{{ book.title }}</h3></a
      >
      <p>Release year: <b>{{ book.release_year }}</b></p>

      {% set author_list = [] %} {% for author in book.authors %} {{
      author.full_name if author_list.append(author.full_name) }} {% endfor %}
      <p>Author(s): {{author_list|join(", ")}}</p>
      <p>Publisher(s): {{ book.publisher }}</p>
    </div>
    {% endfor %}
  </div>


  <footer>  <!-- page navigation -->
    <nav style="clear:both">
        <div style="float:left">
            {% if first_page_url is not none %}
                <button class="btn-general" onclick="location.href='{{first_page_url}}'">First</button>
            {% endif %}
            {% if prev_page_url is not none %}
                <button class="btn-general" onclick="location.href='{{prev_page_url}}'">Previous Page</button>

            {% endif %}
        </div>
        Page {{ page }}
        <div style="float:right">
            {% if next_page_url is not none %}
                <button class="btn-general" onclick="location.href='{{next_page_url}}'">Next Page</button>
            {% endif %}
            {% if last_page_url is not none %}
                <button class="btn-general" onclick="location.href='{{last_page_url}}'">Last</button>
            {% endif %}
        </div>
    </nav>
  </footer>

</div>

{% endblock %}
