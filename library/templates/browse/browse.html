{% extends 'layout.html' %} {% block content %}
<div class="browse_container">
  <h1>Browse Books</h1>
  <div>
    <form class="book_search_form">
      <input class="book_search_bar" type="search" placeholder="Search" />
      <select name="filter" class="filter_select">
        <option value="title">Title</option>
        <option value="author">Author</option>
        <option value="release_year">Year</option>
        <option value="publisher">Publisher</option>
      </select>
      <button class="book_search_btn" type="submit">Search</button>
    </form>
  </div>
  <div class="content-container">

    {% for book in displayed_books %}
    <div class="book_card">
      <a href="{{ url_for('browse_bp.show_book', book_id=book.book_id) }}"><h3>{{ book.title }}</h3></a>
      <p>Release year: <b>{{ book.release_year }}</b></p>

      {% set author_list = [] %} {% for author in book.authors %} {{
      author.full_name if author_list.append(author.full_name) }} {% endfor %}
      <p>Author(s): {{author_list|join(", ")}}</p>
      <p>Publisher(s): {{ book.publisher.name }}</p>

    </div>
    {% endfor %}
  </div>

  <div class="page_num">

    {% for i in range(number_of_pages) %}
      <a href="{{ url_for('browse_bp.browse_books', page_num=i+1)}}">{{ i+1 }}</a>
    {% endfor %}
  </div>

</div>

{% endblock %}
