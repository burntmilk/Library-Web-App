from pathlib import Path
from library.adapters.repository import AbstractRepository
from library.adapters.jsondatareader import BooksJSONReader
from library.domain.model import Publisher, Author, Book, Review, User, BooksInventory


def load_books(data_path: Path, repo: AbstractRepository):    # makes list of book objects
    books_filename = str(Path(data_path) / "comic_books_excerpt.json")
    author_filename = str(Path(data_path) / "book_authors_excerpt.json")

    reader = BooksJSONReader(books_filename, author_filename)
    reader.read_json_files()
    books_list = reader.dataset_of_books

    for book in books_list:     # load the books into repo
        repo.add_book(book)


def load_users(data_path: Path, repo: AbstractRepository):
    pass


def load_reviews(data_path: Path, repo: AbstractRepository, users):
    pass


def populate(data_path: Path, repo: AbstractRepository):
    load_books(data_path, repo)
